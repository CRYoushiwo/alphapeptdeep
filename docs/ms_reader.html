---

title: Basic spectrum file readers


keywords: fastai
sidebar: home_sidebar



nb_path: "nbdev_nbs/mass_spec/ms_reader.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbdev_nbs/mass_spec/ms_reader.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MSReaderBase" class="doc_header"><code>class</code> <code>MSReaderBase</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MSReaderBase</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AlphaPept_HDF_MS1_Reader" class="doc_header"><code>class</code> <code>AlphaPept_HDF_MS1_Reader</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L89" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AlphaPept_HDF_MS1_Reader</code>() :: <a href="/alphapeptdeep/ms_reader.html#MSReaderBase"><code>MSReaderBase</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AlphaPept_HDF_MS2_Reader" class="doc_header"><code>class</code> <code>AlphaPept_HDF_MS2_Reader</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L102" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AlphaPept_HDF_MS2_Reader</code>() :: <a href="/alphapeptdeep/ms_reader.html#MSReaderBase"><code>MSReaderBase</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_until" class="doc_header"><code>read_until</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L119" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_until</code>(<strong><code>file</code></strong>, <strong><code>until</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_line" class="doc_header"><code>find_line</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L130" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>find_line</code>(<strong><code>lines</code></strong>, <strong><code>start</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="parse_pfind_scan_from_TITLE" class="doc_header"><code>parse_pfind_scan_from_TITLE</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L136" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>parse_pfind_scan_from_TITLE</code>(<strong><code>pfind_title</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_pfind_mgf" class="doc_header"><code>is_pfind_mgf</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L139" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_pfind_mgf</code>(<strong><code>mgf</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="index_ragged_list" class="doc_header"><code>index_ragged_list</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L142" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>index_ragged_list</code>(<strong><code>ragged_list</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Create lookup indices for a list of arrays for concatenation.</p>
<p>Args:
    value (list): Input list of arrays.</p>
<p>Returns:
    indices: A numpy array with indices.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MGFReader" class="doc_header"><code>class</code> <code>MGFReader</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L157" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MGFReader</code>() :: <a href="/alphapeptdeep/ms_reader.html#MSReaderBase"><code>MSReaderBase</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MSReaderProvider" class="doc_header"><code>class</code> <code>MSReaderProvider</code><a href="https://github.com/MannLabs/peptdeep/tree/main/peptdeep/mass_spec/ms_reader.py#L206" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MSReaderProvider</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># import os</span>
<span class="c1"># reader = ms2_reader_provider.get_reader(&#39;thermo&#39;)</span>
<span class="c1"># if reader is not None:</span>
<span class="c1">#     reader.load(os.path.expanduser(&#39;~/Workspace/Data/Thermo_iRT/iRT.raw&#39;))</span>
<span class="c1">#     scan_no = 3934</span>
<span class="c1">#     masses, intens = reader.get_peaks(scan_no)</span>
<span class="c1">#     assert len(masses)==(</span>
<span class="c1">#         reader.spectrum_df.loc[scan_no,&#39;peak_end_idx&#39;]</span>
<span class="c1">#         -reader.spectrum_df.loc[scan_no,&#39;peak_start_idx&#39;]</span>
<span class="c1">#     )</span>
<span class="c1">#     assert (np.diff(masses)&gt;=0).all() #sorted</span>
<span class="c1">#     display(reader.spectrum_df)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># import os</span>
<span class="c1"># reader = ms1_reader_provider.get_reader(&#39;thermo&#39;)</span>
<span class="c1"># if reader is not None:</span>
<span class="c1">#     reader.load(os.path.expanduser(&#39;~/Workspace/Data/Thermo_iRT/iRT.raw&#39;))</span>
<span class="c1">#     scan_no = 3931</span>
<span class="c1">#     masses, intens = reader.get_peaks(scan_no)</span>
<span class="c1">#     assert len(masses)==(</span>
<span class="c1">#         reader.spectrum_df.loc[scan_no,&#39;peak_end_idx&#39;]</span>
<span class="c1">#         -reader.spectrum_df.loc[scan_no,&#39;peak_start_idx&#39;]</span>
<span class="c1">#     )</span>
<span class="c1">#     assert (np.diff(masses)&gt;=0).all() #sorted</span>
<span class="c1">#     display(reader.spectrum_df)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

